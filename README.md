# Тестовое задание для стажера

- [Тестовое задание для стажера](#тестовое-задание-для-стажера)
- [Как запускать?](#как-запускать)
- [Задание](#задание)
   - [Описание](#описание)
   - [Структура БД](#структура-бд)
   - [Структура Индекса](#структура-индекса)
   - [Необходимые методы](#необходимые-методы)
   - [Технические требования](#технические-требования)
   - [Программа максимум](#программа-максимум)
   - [Что сделано?](#что-сделано)
  - [Стек](#стек)
  - [Технические требования](#технические-требования)

## Как запускать?

1. Зайдите в GitBash, при необходимости установите.

2. При помощи команд 

Перейти в каталог:
```
cd "каталог"
```
Подняться на уровень вверх:
```
cd .. 
```
:exclamation: Перейдите в нужный каталог для клонирования репозитория :exclamation:

3. Клонирование репозитория:
```
git clone https://github.com/GorsheninNikolay/intern_test_task
```

4. Запуск проекта:
```
docker-compose up -d --build
```

Готово! Можно заходить по ip адресу http://127.0.0.1:8080/ и убедиться, 
что тестовые данные загружены (Адрес ```/``` вернет результат и статус код):wink:

Если проект требуется остановить, нужно выполнить команду ```docker-compose down```

## Задание

### Описание

Необходимо написать очень простой поисковик по текстам документов.
Данные хранятся в БД по желанию, поисковый индекс в эластике. 

[Ссылка на тестовый массива данных.](https://drive.google.com/uc?export=download&confirm=s5vl&id=1O5rOunfzkkF4vIZXk3WCbb6A2XpRPDt1)

### Структура БД

- `id` - уникальный для каждого документа;
- `rubrics` - массив рубрик;
- `text` - текст документа;
- `created_date` - дата создания документа;

### Структура Индекса

- `iD` - id из базы;
- `text` - текст из структуры БД;

### Необходимые методы

- сервис должен принимать на вход произвольный текстовый запрос, искать по тексту документа в индексе и возвращать первые 20 документов со всем полями БД, упорядоченные по дате создания;
- удалять документ из БД и индекса по полю  `id`.

### Технические требования

- Любой Python фреймворк кроме Django и DRF
- `README` с гайдом по поднятию
- `docs.json` - документация к сервису в формате OpenAPI

### Программа максимум

- функциональные тесты
- сервис работает в Docker
- асинхронные вызовы

## Что сделано?

- [x] Все необходимые методы + автозагрузка тестовых данных.
- [x] Readme.
- [x] Docker && Docker-compose.
- [x] Асинхронный веб-фреймворк AioHTTP.
- [x] БД: MongoDB с асинхронным движком Motor.
- [ ] Функциональные тесты.
